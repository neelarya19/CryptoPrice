{% extends 'base.html' %}
{% load humanize %}
{% load static %}

{% block css %}
<style>
    .chartbox{
        width:1200px;
        height:300px;
        margin-top: 20px;
        margin-bottom: 100px;
        margin-right: 100px;
        margin-left: 200px;
    }
</style>

{% endblock %}




{% block body %}
{% include 'bitcoin/bitcoin_base.html' %}
<div class="container">
    <div class="mt-3 ms-4">    
        <h3 class="display-6">Last Hour</h3>
        <div class="mt-3 ms-4">
            <h3 class="display-4">{{ object_list.0.Prices }}</h3>
        </div>
        
    </div>
</div>

<div class="chartbox">
    <canvas id="myChart" width="900" height="300"></canvas>
</div>    
{% endblock %}

{% block js %}
    <script src="{% static "bitcoin/js/hour.js" %}"></script>
{% endblock %}










{% comment %} <script>
{% block js %}
var endpoint='/api/hour';
var defaultdata=[]
var labels=[]
$.ajax({
    method:"GET",
    url:endpoint,
    success: function(data){
        default_data=data.price
        labels=data.time
        
        
    },
    error: function(error_data){
        console.log("error")
        console.log(error_data)
    }
}) {% endcomment %}
{% comment %} function setChart(){
    var ctx = document.getElementById('myChart');
    var myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: labels,
        datasets: [{
            label: '# of Votes',
            data: defaultdata,
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

} {% endcomment %}






